"use strict";(self.webpackChunkbtc_test_frontend=self.webpackChunkbtc_test_frontend||[]).push([[595],{1595:function(e,a,r){r.r(a),r.d(a,{default:function(){return re}});var n=r(885),s=r(2791),t=r(3855),i=r(3360),o=r(4036),c=r(184),l=function(e){var a=e.users,r=e.onSubmit,l=(0,s.useState)(""),d=(0,n.Z)(l,2),u=d[0],m=d[1],f=(0,s.useState)(""),x=(0,n.Z)(f,2),p=x[0],h=x[1],v=(0,s.useState)(""),b=(0,n.Z)(v,2),Z=b[0],j=b[1],y=function(e){switch(e.currentTarget.name){case"name":m(e.currentTarget.value);break;case"email":h(e.currentTarget.value);break;case"password":j(e.currentTarget.value);break;default:return}};return(0,c.jsx)(o.Box,{children:(0,c.jsxs)(t.Z,{onSubmit:function(e){if(e.preventDefault(),a.find((function(e){return e.email===p})))return window.alert("".concat(p," is already in users!")),!1;r({name:u,email:p,password:Z}),m(""),h(""),j("")},children:[(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,c.jsx)(t.Z.Label,{children:"User name"}),(0,c.jsx)(t.Z.Control,{type:"text",name:"name",value:u,onChange:y,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",required:!0})]}),(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicEmail",children:[(0,c.jsx)(t.Z.Label,{children:"User email"}),(0,c.jsx)(t.Z.Control,{type:"mail",name:"email",value:p,onChange:y,pattern:"^([\\w\\.\\-]+)@([\\w\\-]+)((\\.(\\w){2,3})+)$",required:!0})]}),(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,c.jsx)(t.Z.Label,{children:"User password"}),(0,c.jsx)(t.Z.Control,{type:"text",name:"password",minLength:"8",value:Z,onChange:y,required:!0})]}),(0,c.jsx)(i.Z,{variant:"primary",type:"submit",children:"Add user"})]})})},d=r(6930),u=function(e){var a=e.id,r=e.name,s=e.email,t=e.password,o=e.open,l=e.getUserById,u=(0,d.k3)(),m=(0,n.Z)(u,2),f=m[0],x=m[1].isLoading;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{className:"mb-2",children:[(0,c.jsx)("b",{children:"Name:"})," ",r,(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"Email:"})," ",s,(0,c.jsx)("br",{}),(0,c.jsx)("b",{children:"Password:"})," ",t]}),(0,c.jsx)(i.Z,{variant:"outline-secondary",size:"sm",type:"button",onClick:function(){l(a),o()},children:"Edit"}),(0,c.jsx)(i.Z,{variant:"outline-secondary",size:"sm",type:"button",disabled:x,onClick:function(){f(a)},children:"Delete"})]})},m=r(7022),f=r(1413),x=r(5987),p=r(1694),h=r.n(p),v=(r(2391),r(239)),b=r(7503),Z=r(162),j=r(9007),y=r(4787),g=r(8633),w=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],C=s.forwardRef((function(e,a){var r=e.bsPrefix,s=e.active,t=e.disabled,i=e.eventKey,o=e.className,l=e.variant,d=e.action,u=e.as,m=(0,x.Z)(e,w);r=(0,Z.vE)(r,"list-group-item");var p=(0,y.v)((0,f.Z)({key:(0,g.h)(i,m.href),active:s},m)),v=(0,n.Z)(p,2),b=v[0],C=v[1],N=(0,j.Z)((function(e){if(t)return e.preventDefault(),void e.stopPropagation();b.onClick(e)}));t&&void 0===m.tabIndex&&(m.tabIndex=-1,m["aria-disabled"]=!0);var I=u||(d?m.href?"a":"button":"div");return(0,c.jsx)(I,(0,f.Z)((0,f.Z)((0,f.Z)({ref:a},m),b),{},{onClick:N,className:h()(o,r,C.isActive&&"active",t&&"disabled",l&&"".concat(r,"-").concat(l),d&&"".concat(r,"-action"))}))}));C.displayName="ListGroupItem";var N=C,I=["className","bsPrefix","variant","horizontal","numbered","as"],k=s.forwardRef((function(e,a){var r,n=(0,v.Ch)(e,{activeKey:"onSelect"}),s=n.className,t=n.bsPrefix,i=n.variant,o=n.horizontal,l=n.numbered,d=n.as,u=void 0===d?"div":d,m=(0,x.Z)(n,I),p=(0,Z.vE)(t,"list-group");return o&&(r=!0===o?"horizontal":"horizontal-".concat(o)),(0,c.jsx)(b.Z,(0,f.Z)((0,f.Z)({ref:a},m),{},{as:u,className:h()(s,p,i&&"".concat(p,"-").concat(i),r&&"".concat(p,"-").concat(r),l&&"".concat(p,"-numbered"))}))}));k.displayName="ListGroup";var S=Object.assign(k,{Item:N}),B=function(e){var a=e.users,r=e.open,n=e.getUserById;return(0,c.jsx)(m.Z,{children:(0,c.jsx)(S,{variant:"flush",children:a.map((function(e){return(0,c.jsx)(S.Item,{children:(0,c.jsx)(u,{id:e._id,name:e.name,email:e.email,password:e.password,open:r,getUserById:n})},e._id)}))})})},L=function(e){var a=e.name,r=e.onChange;return(0,c.jsx)(o.Box,{children:(0,c.jsx)(t.Z,{children:(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,c.jsx)(t.Z.Label,{children:"Search"}),(0,c.jsx)(t.Z.Control,{type:"text",name:"find",value:a,onChange:r})]})})})},P=r(6543),z=(0,P.Z)("card-group"),T=r(7472),A=["bsPrefix","className","variant","as"],U=s.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,s=e.variant,t=e.as,i=void 0===t?"img":t,o=(0,x.Z)(e,A),l=(0,Z.vE)(r,"card-img");return(0,c.jsx)(i,(0,f.Z)({ref:a,className:h()(s?"".concat(l,"-").concat(s):l,n)},o))}));U.displayName="CardImg";var _=U,E=r(6040),G=["bsPrefix","className","as"],O=s.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,t=e.as,i=void 0===t?"div":t,o=(0,x.Z)(e,G),l=(0,Z.vE)(r,"card-header"),d=(0,s.useMemo)((function(){return{cardHeaderBsPrefix:l}}),[l]);return(0,c.jsx)(E.Z.Provider,{value:d,children:(0,c.jsx)(i,(0,f.Z)((0,f.Z)({ref:a},o),{},{className:h()(n,l)}))})}));O.displayName="CardHeader";var q=O,D=["bsPrefix","className","bg","text","border","body","children","as"],R=(0,T.Z)("h5"),K=(0,T.Z)("h6"),$=(0,P.Z)("card-body"),H=(0,P.Z)("card-title",{Component:R}),M=(0,P.Z)("card-subtitle",{Component:K}),F=(0,P.Z)("card-link",{Component:"a"}),V=(0,P.Z)("card-text",{Component:"p"}),Y=(0,P.Z)("card-footer"),J=(0,P.Z)("card-img-overlay"),Q=s.forwardRef((function(e,a){var r=e.bsPrefix,n=e.className,s=e.bg,t=e.text,i=e.border,o=e.body,l=e.children,d=e.as,u=void 0===d?"div":d,m=(0,x.Z)(e,D),p=(0,Z.vE)(r,"card");return(0,c.jsx)(u,(0,f.Z)((0,f.Z)({ref:a},m),{},{className:h()(n,p,s&&"bg-".concat(s),t&&"text-".concat(t),i&&"border-".concat(i)),children:o?(0,c.jsx)($,{children:l}):l}))}));Q.displayName="Card",Q.defaultProps={body:!1};var W=Object.assign(Q,{Img:_,Title:H,Subtitle:M,Body:$,Link:F,Text:V,Header:q,Footer:Y,ImgOverlay:J}),X=function(e){var a=e.users,r=e.user,o=e.onSubmit,l=e.close,d=(0,s.useState)(r.name),u=(0,n.Z)(d,2),m=u[0],f=u[1],x=(0,s.useState)(r.email),p=(0,n.Z)(x,2),h=p[0],v=p[1],b=(0,s.useState)(r.password),Z=(0,n.Z)(b,2),j=Z[0],y=Z[1],g=function(e){switch(e.currentTarget.name){case"name":f(e.currentTarget.value);break;case"email":v(e.currentTarget.value);break;case"password":y(e.currentTarget.value);break;default:return}};return(0,c.jsx)(z,{style:{height:"100%",width:"100%",position:"absolute",zIndex:1,backgroundColor:"#fff"},children:(0,c.jsx)(W,{style:{padding:"20px"},children:(0,c.jsxs)(t.Z,{onSubmit:function(e){e.preventDefault();var n=r._id;if(a.find((function(e){return e.email===h&&e._id!==n})))return window.alert("".concat(h," is already in users!")),!1;o({id:r._id,name:m,email:h,password:j}),f(""),v(""),y(""),l()},children:[(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicName",children:[(0,c.jsx)(t.Z.Label,{children:"User name"}),(0,c.jsx)(t.Z.Control,{type:"text",name:"name",value:m,onChange:g,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",required:!0})]}),(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicEmail",children:[(0,c.jsx)(t.Z.Label,{children:"User email"}),(0,c.jsx)(t.Z.Control,{type:"mail",name:"email",value:h,onChange:g,pattern:"^([\\w\\.\\-]+)@([\\w\\-]+)((\\.(\\w){2,3})+)$",required:!0})]}),(0,c.jsxs)(t.Z.Group,{className:"mb-2",controlId:"formBasicPassword",children:[(0,c.jsx)(t.Z.Label,{children:"User password"}),(0,c.jsx)(t.Z.Control,{type:"text",name:"password",minLength:"8",value:j,onChange:g,required:!0})]}),(0,c.jsx)(i.Z,{variant:"primary",type:"submit",children:"Apply"}),(0,c.jsx)(i.Z,{variant:"primary",style:{marginLeft:"30px"},type:"button",onClick:function(){l()},children:"Cancel"})]})})})},ee=r(5048),ae=r(1092),re=function(){var e=(0,ee.I0)(),a=(0,s.useState)({}),r=(0,n.Z)(a,2),t=r[0],i=r[1],o=function(){var e=(0,s.useState)(!1),a=(0,n.Z)(e,2),r=a[0],t=a[1];return{isOpen:r,open:function(){return t(!0)},close:function(){return t(!1)},toggle:function(){return t((function(e){return!e}))}}}(),u=o.isOpen,f=o.open,x=o.close,p=(0,ee.v9)(ae.zK),h=(0,d.wv)("",{refetchOnMountOrArgChange:!0}),v=h.data,b=h.isLoading,Z=h.isSuccess,j=(0,d.Vx)(),y=(0,n.Z)(j,1)[0],g=(0,d.kD)(),w=(0,n.Z)(g,1)[0],C=p.trim()?v.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})):v;return(0,c.jsxs)(m.Z,{className:"mt-2",style:{position:"relative"},children:[u&&(0,c.jsx)(X,{users:v,user:t,close:x,onSubmit:function(e){var a=e.id,r=e.name,n=e.email,s=e.password;w({userId:a,name:r,email:n,password:s})}}),!b&&Z&&(0,c.jsxs)(z,{children:[(0,c.jsx)(W,{children:(0,c.jsxs)(W.Body,{children:[(0,c.jsx)(W.Title,{children:"New user"}),(0,c.jsx)(l,{users:v,onSubmit:function(e){var a=e.name,r=e.email,n=e.password;y({name:a,email:r,password:n})}})]})}),(0,c.jsx)(W,{children:(0,c.jsxs)(W.Body,{children:[(0,c.jsx)(W.Title,{children:"Your users"}),(0,c.jsx)(L,{name:p,onChange:function(a){e((0,ae.Tv)(a.target.value))}}),(0,c.jsx)(B,{users:C,open:f,getUserById:function(e){i(v.find((function(a){return a._id===e})))}})]})})]})]})}}}]);
//# sourceMappingURL=595.1bb3a677.chunk.js.map